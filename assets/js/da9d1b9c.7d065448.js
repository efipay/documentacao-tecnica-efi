"use strict";(self.webpackChunkwebsite_efi=self.webpackChunkwebsite_efi||[]).push([[3742],{4695:function(e,n,a){a.d(n,{GA:function(){return s},N1:function(){return r},T7:function(){return m},d6:function(){return l},jS:function(){return d},mj:function(){return c}});var o=a(7294),i=a(2949);function t(e){var n=e.children,a=e.backgroundColor,i=e.color;return o.createElement("span",{style:{backgroundColor:a,color:i,borderRadius:"12px",padding:"3px 10px 3px 10px",fontSize:"15px"}},n)}function r(e){return t({children:e.children,backgroundColor:"rgba(87,167,59,0.4)",color:"dark"===(0,i.I)().colorMode?"rgba(162,222,142,1)":"rgba(36,121,7,1)"})}function d(e){return t({children:e.children,backgroundColor:"rgba(243,156,18,0.4)",color:"dark"===(0,i.I)().colorMode?"rgba(252,213,151,1)":"rgba(166,102,0,1)"})}function c(e){return t({children:e.children,backgroundColor:"rgba(179,228,163,0.4)",color:"dark"===(0,i.I)().colorMode?"rgba(162,222,142,1)":"rgba(36,121,7,1)"})}function l(e){return t({children:e.children,backgroundColor:"rgba(11,161,194,0.4)",color:"dark"===(0,i.I)().colorMode?"rgba(119,214,234,1)":"rgba(0,97,119,1)"})}function s(e){return t({children:e.children,backgroundColor:"rgba(253,132,128,0.4)",color:"dark"===(0,i.I)().colorMode?"rgba(255,176,173,1)":"rgba(217,30,24,1)"})}function m(e){return t({children:e.children,color:"rgba(243,112,33,1)"})}},6745:function(e,n,a){a.d(n,{Z:function(){return l}});var o=a(7294),i=a(3253),t=a.n(i),r=a(4223),d=a(8189),c=a(5585);function l(e){var n=e.filename,a=o.useState(!1),i=a[0],l=a[1];var s=(0,o.useState)(""),m=s[0],u=s[1];return(0,o.useEffect)((function(){fetch(n).then((function(e){return e.text()})).then((function(e){return u(e)})).catch((function(e){return console.log(e)}))})),o.createElement("div",null,o.createElement("button",{className:"buttonModify2 button-referencia",onClick:function(){l(!0)}},"Consultar Atributos",o.createElement("svg",{width:"13.5",height:"13.5","aria-hidden":"true",viewBox:"0 0 24 24",class:"iconExternalLink_node_modules-@docusaurus-theme-classic-lib-theme-Icon-ExternalLink-styles-module"},o.createElement("path",{fill:"currentColor",d:"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"}))),o.createElement(t(),{className:"modal",isOpen:i,onRequestClose:function(){l(!1)},ariaHideApp:!1,contentLabel:"Modal de exemplo"},o.createElement("div",{className:"conteudo-modal"},o.createElement("div",{className:"col-50"},o.createElement(r.D,{children:m,remarkPlugins:[c.Z],rehypePlugins:[d.Z]})))))}},8349:function(e,n,a){a.r(n),a.d(n,{assets:function(){return g},contentTitle:function(){return u},default:function(){return k},frontMatter:function(){return m},metadata:function(){return p},toc:function(){return b}});var o=a(7462),i=a(3366),t=(a(7294),a(3905)),r=a(4866),d=a(5162),c=a(4695),l=a(6745),s=["components"],m={id:"Pagamentos",title:"Pagamentos",hide_title:!0,sidebar_label:"Pagamentos"},u=void 0,p={unversionedId:"APIOpenFinance/Pagamentos",id:"APIOpenFinance/Pagamentos",title:"Pagamentos",description:"Pagamentos",source:"@site/docs/APIOpenFinance/Pagamentos.md",sourceDirName:"APIOpenFinance",slug:"/APIOpenFinance/Pagamentos",permalink:"/documentacao-tecnica-efi/docs/APIOpenFinance/Pagamentos",draft:!1,tags:[],version:"current",frontMatter:{id:"Pagamentos",title:"Pagamentos",hide_title:!0,sidebar_label:"Pagamentos"},sidebar:"someSidebar",previous:{title:"Participantes",permalink:"/documentacao-tecnica-efi/docs/APIOpenFinance/Participantes"},next:{title:"Devolu\xe7\xe3o",permalink:"/documentacao-tecnica-efi/docs/APIOpenFinance/Devolucao"}},g={},b=[{value:"Solicitar inicia\xe7\xe3o de Pix via Open Finance",id:"solicitar-inicia\xe7\xe3o-de-pix-via-open-finance",level:2},{value:"Listar pagamentos por um determinado per\xedodo",id:"listar-pagamentos-por-um-determinado-per\xedodo",level:2}],v={toc:b},f="wrapper";function k(e){var n=e.components,a=(0,i.Z)(e,s);return(0,t.kt)(f,(0,o.Z)({},v,a,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{className:"titulo"},"Pagamentos"),(0,t.kt)("div",{className:"subtitulo"},(0,t.kt)("div",{className:"light"},"Informa\xe7\xf5es dos pagamentos dispon\xedveis na API Open Finance"),(0,t.kt)("hr",null),(0,t.kt)("h2",{id:"solicitar-inicia\xe7\xe3o-de-pix-via-open-finance"},"Solicitar inicia\xe7\xe3o de Pix via Open Finance"),(0,t.kt)("p",null,"Este endpoint \xe9 utilizado para a inser\xe7\xe3o das informa\xe7\xf5es do pagamento a ser iniciado e a sa\xedda \xe9 uma url de redirecionamento, que deve ser inserida em um bot\xe3o para que o usu\xe1rio clique e seja redirecionado para a institui\xe7\xe3o detentora de conta."),(0,t.kt)("div",{className:"post"},(0,t.kt)("details",{className:"col-100"},(0,t.kt)("summary",null,(0,t.kt)("b",null,(0,t.kt)(c.N1,{mdxType:"HighlightPost"},"POST")," /open-finance/pagamentos/pix")),(0,t.kt)("div",{className:"post-div"},(0,t.kt)("div",{className:"col-65"},"Requer autoriza\xe7\xe3o para o escopo: ",(0,t.kt)("code",null,"gn.opb.payment.pix.send")),(0,t.kt)("div",{className:"col-35"},(0,t.kt)(l.Z,{filename:"/markdown/open-finance/config-aplicacao/solicitar_iniciacao.md",mdxType:"Modal"}))),(0,t.kt)("br",null),(0,t.kt)("b",null,"Requisi\xe7\xe3o"),(0,t.kt)(r.Z,{defaultValue:"exemplo1",values:[{label:"Inicia\xe7\xe3o de pagamento",value:"exemplo1"}],mdxType:"Tabs"},(0,t.kt)(d.Z,{value:"exemplo1",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'Exemplo de inicia\xe7\xe3o de pagamento\n{\n"pagador": {\n  "idParticipante": "9f4cd202-8f2b-11ec-b909-0242ac120002",\n  "cpf": "45204392050", \n  "cnpj": "90293071000112"\n},\n"favorecido": {\n  "contaBanco": {\n    "codigoBanco": "09089356",\n    "agencia": "0001",\n    "documento": "11122233344",\n    "nome": "Luiz Silva",\n    "conta": "654984",\n    "tipoConta": "CACC"\n  }\n},\n"valor": "9.90",\n"infoPagador": "Compra dia xx"\n}\n')))),(0,t.kt)("br",null),(0,t.kt)("b",null,"Respostas"),(0,t.kt)("br",null),(0,t.kt)("p",null,"  As respostas abaixo representam Sucesso(201) e Falhas/erros do consumo."),(0,t.kt)(r.Z,{defaultValue:"saida",values:[{label:"200 (sucess)",value:"saida"},{label:"400 (bad request)",value:"400"},{label:"401 (Unauthorized)",value:"401"},{label:"403 (Forbidden)",value:"403"},{label:"409 (Conflict)",value:"409"},{label:"422 (Unprocessable)",value:"422"},{label:"431 (Fields Too Large)",value:"431"},{label:"500 (Error)",value:"500"}],mdxType:"Tabs"},(0,t.kt)(d.Z,{value:"saida",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'{\n"identificadorPagamento": "urn:gerencianet:ae71713f-875b-4af3-9d85-0bcb43288847",\n"redirectURI": "https://open-banking.banco.com.br/authorize?request=eyJjd&redirect_uri=https://pub.opb.testegerencianet.com.br/callback&scope=openid%20pagamentos%20consent:urn:gerencianet:fdf36ac8-f213-4057-bf2e-2ce7bd828abf&response_type=code%20id_token"\n}\n'))),(0,t.kt)(d.Z,{value:"400",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'{\n"nome": "codigo_banco_favorecido_obrigatorio",\n"mensagem": "O c\xf3digo do banco favorecido \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "agencia_favorecido_obrigatorio",\n"mensagem": "A ag\xeancia do favorecido \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "numero_conta_favorecido_obrigatorio",\n"mensagem": "O n\xfamero da conta do favorecido \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "tipo_conta_favorecido_obrigatorio",\n"mensagem": "O tipo conta do favorecido \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "documento_favorecido_obrigatorio",\n"mensagem": "O documento do favorecido \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "nome_favorecido_obrigatorio",\n"mensagem": "O nome do favorecido \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "cpf_pagador_obrigatorio",\n"mensagem": "O cpf do pagador \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "dados_pagador_obrigatorio",\n"mensagem": "Os dados do pagador s\xe3o obrigat\xf3rios"\n}\nOu\n{\n"nome": "erro_iniciacao_pagamento",\n"mensagem": "${mensagem}"\n}\nOu\n{\n"nome": "chave_idempotencia_obrigatorio",\n"mensagem": "O cabe\xe7alho de \'x-idempotency-key\' \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "identificador_participante_obrigatorio",\n"mensagem": "O identificador do participante \xe9 requerido"\n}\nOu\n{\n"nome": "valor_obrigatorio",\n"mensagem": "O valor da transa\xe7\xe3o \xe9 obrigat\xf3rio"\n}\n'))),(0,t.kt)(d.Z,{value:"401",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},"Este erro ocorre nas seguintes situa\xe7\xf5es:\n\n* Certificado ou credenciais n\xe3o existem;\n* Certificado ou credenciais est\xe3o desativados;\n* Certificado e credenciais n\xe3o est\xe3o vinculados a mesma conta Gerencianet;\n* Integrador n\xe3o tem permiss\xe3o para o escopo de servi\xe7o necess\xe1rio para consumir este endpoint.\n"))),(0,t.kt)(d.Z,{value:"403",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},"Este erro ocorre nas seguintes situa\xe7\xf5es:\n\n* Integrador solicita acesso a um escopo ao qual n\xe3o tem permiss\xe3o.\n"))),(0,t.kt)(d.Z,{value:"409",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'{\n"nome": "conflito_chave_idempotencia",\n"mensagem": "Chave de idempot\xeancia repetida para pagamento diferente"\n}\n'))),(0,t.kt)(d.Z,{value:"422",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'{\n"nome": "codigo_banco_nao_permitido",\n"mensagem": "O c\xf3digo do banco informado n\xe3o \xe9 permitido"\n}\nOu\n{\n"nome": "codigo_banco_invalido",\n"mensagem": "O c\xf3digo do banco \xe9 inv\xe1lido"\n}\nOu\n{\n"nome": "agencia_invalida",\n"mensagem": "A ag\xeancia \xe9 invalida"\n}\nOu\n{\n"nome": "numero_conta_favorecido_invalido",\n"mensagem": "O n\xfamero da conta do favorecido \xe9 inv\xe1lido"\n}\nOu\n{\n"nome": "tipo_conta_favorecido_invalida",\n"mensagem": "O tipo conta do favorecido \xe9 invalida, permitido (CACC/SLRY/SVGS/TRAN)"\n}\nOu\n{\n"nome": "documento_favorecido_invalido",\n"mensagem": "O documento do favorecido \xe9 inv\xe1lido"\n}\nOu\n{\n"nome": "id_proprio_invalido",\n"mensagem": "O campo idProprio deve ser texto"\n}\nOu\n{\n"nome": "cnpj_pagador_invalido",\n"mensagem": "O cnpj do pagador \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "cpf_pagador_invalido",\n"mensagem": "O cpf do pagador \xe9 obrigat\xf3rio"\n}\nOu\n{\n"nome": "codigo_cidade_ibge_invalido",\n"mensagem": "O c\xf3digo de IBGE da cidade \xe9 inv\xe1lido"\n}\nOu\n{\n"nome": "nome_favorecido_invalido",\n"mensagem": "O nome do favorecido \xe9 inv\xe1lido"\n}\nOu\n{\n"nome": "identificador_participante_invalido",\n"mensagem": "O identificador do participante \xe9 inv\xe1lido"\n}\nOu\n{\n"nome": "valor_invalido",\n"mensagem": "O valor da transa\xe7\xe3o \xe9 inv\xe1lido"\n}\n'))),(0,t.kt)(d.Z,{value:"431",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'Erro na aplica\xe7\xe3o\n{\n"nome": "chave_idempotencia_invalida",\n"mensagem": "Tamanho da chave de idempot\xeancia inv\xe1lido"\n}\n'))),(0,t.kt)(d.Z,{value:"500",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'Erro na aplica\xe7\xe3o\n{\n"nome": "erro_aplicacao",\n"mensagem": "Erro interno do servidor"\n}\n')))))),(0,t.kt)("h2",{id:"listar-pagamentos-por-um-determinado-per\xedodo"},"Listar pagamentos por um determinado per\xedodo"),(0,t.kt)("p",null,"Este endpoint \xe9 utilizado para listar as informa\xe7\xf5es dos pagamentos que foram efetuados em um per\xedodo de tempo."),(0,t.kt)("div",{className:"get"},(0,t.kt)("details",{className:"col-100"},(0,t.kt)("summary",null,(0,t.kt)("b",null,(0,t.kt)(c.d6,{mdxType:"HighlightGet"},"GET")," /open-finance/pagamentos/pix")),(0,t.kt)("div",{className:"get-div"},(0,t.kt)("div",{className:"col-65"},"Requer autoriza\xe7\xe3o para o escopo: ",(0,t.kt)("code",null,"gn.opb.payment.pix.read")),(0,t.kt)("div",{className:"col-35"},(0,t.kt)(l.Z,{filename:"/markdown/open-finance/config-aplicacao/listar_pagamentos.md",mdxType:"Modal"}))),(0,t.kt)("br",null),(0,t.kt)("b",null,"Requisi\xe7\xe3o"),(0,t.kt)("br",null),"Para obter o resultado da consulta \xe9 necess\xe1rio informar os par\xe2metros inicio e fim, como exibido no trecho de c\xf3digo abaixo. Esses par\xe2metros representam o intervalo de datas em que as cobran\xe7as consultadas devem estar compreendidas.",(0,t.kt)("code",null,"/open-finance/pagamentos/pix?inicio=2022-05-01&fim=2022-12-30"),(0,t.kt)("br",null),(0,t.kt)("br",null),(0,t.kt)("b",null,"Respostas"),(0,t.kt)("p",null,"  As respostas abaixo representam Sucesso(200) e Falhas/erros do consumo."),(0,t.kt)(r.Z,{defaultValue:"saida",values:[{label:"200 (Success)",value:"saida"},{label:"400 (Bad Request)",value:"400"},{label:"404 (Unknown Payment error)",value:"404"},{label:"422 (Unprocessable)",value:"422"}],mdxType:"Tabs"},(0,t.kt)(d.Z,{value:"saida",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'{\n"pagamentos": [\n  {\n    "identificadorPagamento": "urn:gerencianet:49315a93-d39c-4564-9edb-9a73678dbdb1",\n    "endToEndId": "E00038166201907261559y6j6",\n    "valor": "1.99",\n    "status": "aceito",\n    "dataCriacao": "2022-04-29T11:55:03.000Z",\n    "devolucoes": [\n      {\n        "identificadorDevolucao": "D09089356202211111429d82ecc2ecde",\n        "valor": "1.99",\n        "status": "aceito",\n        "dataCriacao": "2022-04-29T11:59:03.000Z"\n      }\n    ],\n    "idProprio": "6236574863254"\n  }\n],\n"total": 3,\n"porPagina": 1,\n"ultimo": "/pagamentos/pix?inicio=2022-04-29&fim=2022-04-29&quantidade=1&pagina=3",\n"proximo": "/pagamentos/pix?inicio=2022-04-29&fim=2022-04-29&quantidade=1&pagina=2",\n"anterior": null,\n"atual": "/pagamentos/pix?inicio=2022-04-29&fim=2022-04-29&quantidade=1&pagina=1"\n}\n'))),(0,t.kt)(d.Z,{value:"400",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'{\n"nome": "data_inicio_invalido",\n"mensagem": "A data in\xedcio \xe9 inv\xe1lida"\n}\nOu\n{\n"nome": "data_fim_invalido",\n"mensagem": "A data fim \xe9 inv\xe1lida"\n}\n'))),(0,t.kt)(d.Z,{value:"404",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'{\n"nome": "pagamento_nao_encontrado",\n"mensagem": "Nenhum pagamento encontrado"\n}\n'))),(0,t.kt)(d.Z,{value:"422",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-json"},'{\n"nome": "data_inicio_obrigatorio",\n"mensagem": "A data in\xedcio \xe9 obrigat\xf3ria"\n}\nOu\n{\n"nome": "data_fim_obrigatorio",\n"mensagem": "A data fim \xe9 obrigat\xf3ria"\n}\nOu\n{\n"nome": "identificador_pagamento_invalido",\n"mensagem": "O identificador do pagamento \xe9 inv\xe1lido"\n}\nOu\n{\n"nome": "status_pagamento_invalido",\n"mensagem": "O status do pagamento informado \xe9 inv\xe1lido, permitido (pendente/agendado/rejeitado/aceito/erro)"\n}\n')))))),(0,t.kt)("br",null)))}k.isMDXComponent=!0}}]);